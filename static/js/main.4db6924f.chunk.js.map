{"version":3,"sources":["components/Hit.js","components/RelatedItem.js","components/ProductDetails.js","App.js","components/Autocomplete.js","store/singleHit.js","store/currentObjectID.js","store/index.js","index.js"],"names":["HitWithInsights","connectHitInsights","window","aa","_ref","hit","insights","react_default","a","createElement","src","image","alt","name","width","height","price","Highlight","attribute","tagName","Snippet","onClick","eventName","react_router_dom","to","pathname","concat","objectID","__queryID","RelatedItem","item","useEffect","console","log","className","description","target","rel","href","url","recommendClient","recommend","ProductDetails","useLocation","InstantSearch","searchClient","indexName","FrequentlyBoughtTogether","objectIDs","itemComponent","maxRecommendations","RelatedProducts","view","HorizontalSlider","connectAutoComplete","props","containerRef","useRef","current","search","autocomplete","Object","objectSpread","container","renderer","Fragment","render","root","children","destroy","ref","algoliasearch","App","_useState","useState","_useState2","slicedToArray","setIndexName","react_router","path","components_ProductDetails","src_components_RelatedItem","onChange","e","value","SearchBox","translations","placeholder","ClearRefinements","HierarchicalMenu","attributes","RefinementList","RatingMenu","Hits","hitComponent","Pagination","Configure","clickAnalytics","SET_SINGLE_HIT","reducer","state","arguments","length","undefined","action","type","payload","SET_CURRENT_OBJECT_ID","enhancer","rootReducer","combineReducers","singleHit","currentObjectIDs","applyMiddleware","thunk","configureStore","preloadedState","createStore","store","Root","react_redux_es","src_App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.4db6924f.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport {\n  Highlight,\n  Snippet,\n  connectHitInsights,\n} from 'react-instantsearch-dom';\nimport { Link } from 'react-router-dom';\n\nexport const Hit = ({ hit, insights }) => {\n  const onClick = (insights) => {\n    insights('clickedObjectIDsAfterSearch', {\n      eventName: 'Product Clicked',\n    });\n  };\n\n  return (\n    <div>\n      <article>\n        <img src={hit.image} alt={hit.name} width=\"100px\" height=\"100px\"></img>\n        <p>\n          {/* <code>{hit.name}</code>\n            <code>{hit.description}</code> */}\n          Price: ${hit.price}\n        </p>\n      </article>\n      <Highlight hit={hit} attribute=\"name\" tagName=\"em\" />\n      <br />\n      <br />\n      {/* <Highlight hit={hit} attribute=\"description\" tagName=\"code\" /> */}\n      <Snippet hit={hit} attribute=\"description\" />\n      <button onClick={onClick(insights)}>\n        <Link to={{ pathname: `/objectID=${hit.objectID}&queryID=${hit.__queryID}`, hit: hit, insights: insights }}>See Details</Link>\n      </button>\n    </div>\n  );\n};\n\n// connect search-insights client to Hit component\n// so we can call the 'insights' function from within Hits\nexport const HitWithInsights = connectHitInsights(window.aa)(Hit);\n\nHit.propTypes = {\n  hit: PropTypes.object.isRequired,\n};\n\nexport default HitWithInsights;\n","import React, { useEffect } from 'react';\nimport './RelatedItem.css';\nimport { Hits, Index, Configure } from 'react-instantsearch-dom';\nimport { HitWithInsights } from './Hit'\n\nexport const RelatedItem = ({ item }) => {\n  useEffect(() => {\n    console.log('ITEM', item);\n  }, [item]);\n  return (\n    <div>\n      {/* <ul className=\"ais-Hits-list\"> */}\n      {item && (\n        //   <li className=\"ais-Hits-item\">\n        <div className=\"aa-ItemContent\">\n          <article>\n            <img alt={item.name} src={item.image}></img>\n            <div className=\"aa-ItemTitle\">{item.name}</div>\n          </article>\n          <br />\n\n          <span>{item.description}</span>\n          <br />\n          <br />\n          <span>Price: ${item.price}</span>\n          <br />\n          <button>\n            <a target=\"_blank\" rel=\"noopener noreferrer\" href={item.url}>\n              Go Buy It!\n            </a>\n          </button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default RelatedItem;\n","import React from 'react';\nimport { useLocation } from 'react-router';\nimport {\n  Hits,\n  InstantSearch,\n  Configure,\n  Pagination,\n  Index,\n} from 'react-instantsearch-dom';\nimport { searchClient } from '../App';\nimport HitWithInsights from './Hit';\nimport {\n  FrequentlyBoughtTogether,\n  RelatedProducts,\n} from '@algolia/recommend-react';\nimport { RelatedItem } from './RelatedItem';\nimport recommend from '@algolia/recommend';\nimport { HorizontalSlider } from '@algolia/ui-components-horizontal-slider-react';\nimport '@algolia/ui-components-horizontal-slider-theme';\n\nconst recommendClient = recommend(\n  'NSMMHUZMQS',\n  'ef0985fb06ac10d3b759ce42df2d4745'\n);\n\nexport const ProductDetails = () => {\n  let hit = useLocation().hit;\n  let insights = useLocation().insights;\n  const onClick = () => {\n    insights('convertedObjectIDsAfterSearch', {\n      eventName: 'Product Added To Cart',\n    });\n  };\n\n  return (\n    <div>\n      <InstantSearch\n        searchClient={searchClient}\n        indexName=\"best-buy_perso_nick\"\n      >\n        <div>\n          <button>\n            <a href=\"/\">Return Home</a>\n          </button>\n          <br />\n          <div className=\"aa-ItemContent productDetail-ItemContainer\">\n            <img alt={hit.name} src={hit.image}></img>\n            <br />\n            <div className=\"aa-ItemTitle productDetail-ItemTitle\">\n              {hit.name}\n            </div>\n            <br />\n            <span className=\"productDetail-ItemDescription\">{hit.description}</span>\n            <br />\n            <span>Price: ${hit.price}</span>\n            <br />\n            <button onClick={onClick}>\n              <a target=\"_blank\" rel=\"noopener noreferrer\" href={hit.url}>\n                Go Buy It!\n              </a>\n            </button>\n          </div>\n        </div>\n        <FrequentlyBoughtTogether\n          recommendClient={recommendClient}\n          indexName={'best-buy_perso_nick'}\n          objectIDs={[hit.objectID]}\n          itemComponent={RelatedItem}\n          maxRecommendations={4}\n        />\n        <RelatedProducts\n          recommendClient={recommendClient}\n          indexName={'best-buy_perso_nick'}\n          objectIDs={[hit.objectID]}\n          itemComponent={RelatedItem}\n          view={HorizontalSlider}\n        />\n      </InstantSearch>\n    </div>\n  );\n};\n\nexport default ProductDetails;\n","import algoliasearch from 'algoliasearch/lite';\nimport React, { useState } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport {\n  ClearRefinements,\n  HierarchicalMenu,\n  Hits,\n  InstantSearch,\n  Configure,\n  Pagination,\n  RefinementList,\n  SearchBox,\n  RatingMenu,\n} from 'react-instantsearch-dom';\nimport './App.css';\nimport HitWithInsights from './components/Hit';\nimport ProductDetails from './components/ProductDetails';\nimport RelatedItem from './components/RelatedItem';\nimport CustomAutocomplete from './components/Autocomplete';\n\n\nexport const searchClient = algoliasearch(\n  'NSMMHUZMQS',\n  'ef0985fb06ac10d3b759ce42df2d4745'\n);\n\nfunction App() {\n  const [indexName, setIndexName] = useState('best-buy');\n\n  return (\n    <div className=\"container\">\n      <Switch>\n        <Route path=\"/:product\">\n          <ProductDetails />\n          \n          <RelatedItem />\n        </Route>\n        <Route path=\"/\">\n          <select onChange={e => setIndexName(e.target.value)}>\n            <option value=\"best-buy\">Relevance</option>\n            <option value=\"best-buy_price_desc\">Price Descending</option>\n            <option value=\"best-buy-price_asc\">Price Ascending</option>\n            <option value=\"best-buy_perso_nick\">Personalized for me</option>\n          </select>\n          <InstantSearch searchClient={searchClient} indexName={indexName}>\n            <div className=\"search-panel\">\n              <div className=\"search-panel__results\">\n                <SearchBox\n                  className=\"searchbox\"\n                  translations={{\n                    placeholder: 'Search for name, brand, type...',\n                  }}\n                />\n                <div className=\"left-panel\">\n                  <ClearRefinements />\n                  <HierarchicalMenu\n                    attributes={[\n                      'hierarchicalCategories.lvl0',\n                      'hierarchicalCategories.lvl1',\n                      'hierarchicalCategories.lvl2',\n                      'hierarchicalCategories.lvl3',\n                    ]}\n                  />\n                  <h2>Brand</h2>\n                  <RefinementList attribute=\"brand\" />\n                  <h2>Type</h2>\n                  <RefinementList attribute=\"type\" />\n                  <h2>Free Shipping</h2>\n                  <RefinementList attribute=\"free_shipping\" />\n                  <h2>Star Rating</h2>\n                  <RatingMenu attribute=\"rating\" />\n                </div>\n                <Hits hitComponent={HitWithInsights} />\n\n                <div className=\"pagination\">\n                  <Pagination />\n                </div>\n              </div>\n            </div>\n            <Configure clickAnalytics />\n          </InstantSearch>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import { autocomplete } from '@algolia/autocomplete-js';\nimport React, { createElement, Fragment, useEffect, useRef } from 'react';\nimport { render } from 'react-dom';\nimport { connectAutoComplete } from 'react-instantsearch-core';\n\n\nexport const Autocomplete = (props) => {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    if (!containerRef.current) {\n      return undefined;\n    }\n\n    const search = autocomplete({\n      container: containerRef.current,\n      renderer: { createElement, Fragment },\n      render({ children }, root) {\n        render(children, root);\n      },\n      ...props,\n    });\n\n    return () => {\n      search.destroy();\n    };\n  }, [props]);\n\n  return <div ref={containerRef}></div>;\n};\n\nexport const CustomAutocomplete = connectAutoComplete(Autocomplete);\n\nexport default CustomAutocomplete;\n\n","const SET_SINGLE_HIT = 'singleHit/setSingleHit';\n\nconst setSingleHit = (hit) => ({\n    type: SET_SINGLE_HIT,\n    payload: hit,\n});\n\nexport const storeSingleHit = (hit) => async dispatch => {\n    await dispatch(setSingleHit(hit));\n};\n\nfunction reducer(state={}, action) {\n    let newState;\n    switch(action.type) {\n        case SET_SINGLE_HIT:\n            newState = {...action.payload}\n            return newState;\n        default:\n            return state;\n\n    }\n};\n\nexport default reducer;","const SET_CURRENT_OBJECT_ID = 'currentObjectID/setCurrentObjectID';\n\nconst setCurrentObjectID = (objectID) => ({\n    type: SET_CURRENT_OBJECT_ID,\n    payload: objectID\n});\n\nexport const storeCurrentObjectID = (objectID) => async dispatch => {\n    await dispatch(setCurrentObjectID(objectID));\n};\n\nfunction reducer(state = \"\", action) {\n    let newState;\n    switch (action.type) {\n        case SET_CURRENT_OBJECT_ID:\n            newState = action.payload;\n            return newState;\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","import { createStore, combineReducers, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport singleHit from './singleHit';\nimport currentObjectIDs from './currentObjectID';\n\nconst rootReducer = combineReducers({\n  singleHit,\n  currentObjectIDs\n  });\n\n  let enhancer;\n\nif (process.env.NODE_ENV === 'production') {\n  enhancer = applyMiddleware(thunk);\n} else {\n  const logger = require('redux-logger').default;\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n  enhancer = composeEnhancers(applyMiddleware(thunk, logger));\n}\n\nconst configureStore = (preloadedState) => {\n  return createStore(rootReducer, preloadedState, enhancer);\n};\n\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport configureStore from './store';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nconst store = configureStore();\n\nwindow.store = store;\n\nfunction Root() {\n  return (\n    <Provider store={store}>\n      <BrowserRouter>\n        <App />\n      </BrowserRouter>\n    </Provider>\n  );\n}\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}